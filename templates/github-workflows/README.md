# GitHub Actions Workflows for Folio Documentation

This directory contains automated workflows that help maintain and validate your documentation project. These workflows are automatically created when you run `folio init`.

## Available Workflows

### üìã `validate-docs.yml` - Documentation Validation
**Triggers:** Push and Pull Requests to main/develop branches (when docs change)

This workflow:
- Validates all document frontmatter against your folio.config.ts schema
- Checks for missing critical documents
- Generates documentation statistics
- Comments on PRs with validation results

### üîÑ `update-indexes.yml` - Automatic Index Updates
**Triggers:** Push to main branch (when docs change), Manual trigger

This workflow:
- Automatically updates index.md files when documents are added/modified
- Commits changes back to the repository
- Ensures your documentation indexes stay current

### üè• `docs-health-check.yml` - Weekly Health Check
**Triggers:** Weekly schedule (Mondays at 9 AM UTC), Manual trigger

This workflow:
- Performs comprehensive documentation health analysis
- Identifies stale documents (90+ days old)
- Finds potentially orphaned documents
- Generates coverage reports
- Creates GitHub issues for significant problems

## Setup Requirements

### For Validation Workflow
1. Install folio-cli in your project: `npm install --save-dev folio-cli`
2. Ensure your `folio.config.ts` is properly configured
3. The workflow will run automatically on pushes and PRs

### For Index Update Workflow
1. Requires `contents: write` permission (enabled by default)
2. Uses the default `GITHUB_TOKEN` for commits
3. Will only commit if there are actual changes

### For Health Check Workflow
1. Runs automatically weekly
2. Creates artifacts with detailed reports
3. Will create issues for significant problems (requires `issues: write` permission)

## Customization

You can customize these workflows by:

1. **Changing triggers**: Modify the `on:` sections to run on different events
2. **Adjusting schedules**: Change the cron expression for health checks
3. **Adding notifications**: Add Slack/Discord notifications for failures
4. **Modifying validation rules**: Adjust the health check criteria

## Troubleshooting

### Common Issues

**Workflow fails with "folio command not found"**
- Ensure folio-cli is listed in your package.json devDependencies
- Check that `npm ci` completes successfully

**Index update workflow doesn't commit**
- Check that there are actual changes to commit
- Verify the workflow has write permissions to the repository

**Health check creates too many issues**
- Adjust the health check criteria in the workflow
- Consider changing the schedule frequency

### Disabling Workflows

If you don't want certain workflows:
1. Delete the corresponding `.yml` file, or
2. Add a condition like `if: false` to disable temporarily

## Advanced Configuration

### Adding Custom Checks

You can extend the validation workflow to include:
- Custom linting rules
- Link checking
- Image optimization verification
- Document template compliance

### Integration with External Tools

These workflows can be extended to integrate with:
- Documentation hosting platforms (GitBook, Notion, etc.)
- Team communication tools (Slack, Discord, Microsoft Teams)
- Project management tools (Jira, Linear, etc.)

## Support

For issues with these workflows:
1. Check the Actions tab in your GitHub repository for detailed logs
2. Refer to the folio-cli documentation
3. Create an issue in the folio-cli repository

---

*These workflows were automatically generated by folio-cli. You can modify them to suit your project's specific needs.*